<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="8742pt" height="2498pt"
 viewBox="0.00 0.00 8742.31 2498.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2494)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-2494 8738.31,-2494 8738.31,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="black" points="4392.8,-582.3 4392.8,-992.7 5726.7,-992.7 5726.7,-582.3 4392.8,-582.3"/>
<text text-anchor="middle" x="5059.75" y="-976.1" font-family="Times,serif" font-size="14.00">VieFactory</text>
<text text-anchor="middle" x="5059.75" y="-959.3" font-family="Times,serif" font-size="14.00">contracts/VieFactory.sol</text>
<polyline fill="none" stroke="black" points="4392.8,-951.1 5726.7,-951.1 "/>
<text text-anchor="start" x="4400.8" y="-934.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="4400.8" y="-917.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;registry: IVieRegistryV1</text>
<text text-anchor="start" x="4400.8" y="-900.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;sftImplementation: address</text>
<text text-anchor="start" x="4400.8" y="-884.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;tokenImplementation: address</text>
<text text-anchor="start" x="4400.8" y="-867.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;sftMintManager: address</text>
<text text-anchor="start" x="4400.8" y="-850.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;vieTokenPoolHook: address</text>
<text text-anchor="start" x="4400.8" y="-833.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;weth: address</text>
<polyline fill="none" stroke="black" points="4392.8,-825.5 5726.7,-825.5 "/>
<text text-anchor="start" x="4400.8" y="-808.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="4400.8" y="-792.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; deployToken(salt: bytes32, owner: address, maxSupply: uint256, startingSqrtPrice: uint160, name: string, symbol: string, metadata: string, imageUrl: string): (tokenAddress: address, poolId: bytes32) &lt;&lt;nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="4400.8" y="-775.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setRegistry(_registry: IVieRegistryV1) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="4400.8" y="-758.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSFTImplementation(_sftImplementation: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="4400.8" y="-741.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setTokenImplementation(_tokenImplementation: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="4400.8" y="-724.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSFTMintManager(_sftMintManager: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="4400.8" y="-708.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setVieTokenPoolHook(_vieTokenPoolHook: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="4400.8" y="-691.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;deploySFTWithFixedPriceSale(salt: bytes32, owner: address, maxSupply: uint248, metadataUri: string, contractURI: string, sale: IVieSFTMintManager.Sale): (sftAddress: address) &lt;&lt;nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="4400.8" y="-674.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;predictSFTAddress(salt: bytes32): address</text>
<text text-anchor="start" x="4400.8" y="-657.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;predictTokenAddress(salt: bytes32): address</text>
<text text-anchor="start" x="4400.8" y="-640.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="4400.8" y="-624.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SFTDeployed(sftAddress: address, owner: address, tokenId: uint256, metadataUri: string, maxSupply: uint256)</text>
<text text-anchor="start" x="4400.8" y="-607.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TokenDeployed(tokenAddress: address, owner: address, poolId: bytes32, name: string, symbol: string)</text>
<text text-anchor="start" x="4400.8" y="-590.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_weth: address, _vieTokenPoolHook: address, _sftImplementation: address, _tokenImplementation: address, _sftMintManager: address, _registry: address)</text>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="black" points="4136.09,-1315.3 4136.09,-1641.7 5097.41,-1641.7 5097.41,-1315.3 4136.09,-1315.3"/>
<text text-anchor="middle" x="4616.75" y="-1625.1" font-family="Times,serif" font-size="14.00">VieToken</text>
<text text-anchor="middle" x="4616.75" y="-1608.3" font-family="Times,serif" font-size="14.00">contracts/coin/VieToken.sol</text>
<polyline fill="none" stroke="black" points="4136.09,-1600.1 5097.41,-1600.1 "/>
<text text-anchor="start" x="4144.09" y="-1583.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="4144.09" y="-1566.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;metadata: string</text>
<text text-anchor="start" x="4144.09" y="-1549.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;imageUrl: string</text>
<polyline fill="none" stroke="black" points="4136.09,-1541.7 5097.41,-1541.7 "/>
<text text-anchor="start" x="4144.09" y="-1525.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="4144.09" y="-1508.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateImage(newImageUrl: string) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="4144.09" y="-1491.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateMetadata(newMetadata: string) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="4144.09" y="-1474.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;tokenURI(): string</text>
<text text-anchor="start" x="4144.09" y="-1457.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;image(): string</text>
<text text-anchor="start" x="4144.09" y="-1441.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;uri(): string</text>
<text text-anchor="start" x="4144.09" y="-1424.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="4144.09" y="-1407.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ImageUpdated(image: string)</text>
<text text-anchor="start" x="4144.09" y="-1390.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MetadataUpdated(metadata: string)</text>
<text text-anchor="start" x="4144.09" y="-1373.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="4144.09" y="-1357.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(name_: string, symbol_: string, metadata_: string, image_: string, maxSupply_: uint256, initialOwner: address, initialSupplyOwner: address) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="4144.09" y="-1340.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;permit(owner: address, spender: address, value: uint256, deadline: uint256, v: uint8, r: bytes32, s: bytes32)</text>
<text text-anchor="start" x="4144.09" y="-1323.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;supportsInterface(_interfaceId: bytes4): bool</text>
</g>
<!-- 0&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>0&#45;&gt;5</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4928.33,-992.89C4864.08,-1092.83 4787.63,-1211.73 4726.54,-1306.75"/>
<polygon fill="black" stroke="black" points="4723.51,-1304.98 4721.05,-1315.28 4729.4,-1308.77 4723.51,-1304.98"/>
</g>
<!-- 19 -->
<g id="node12" class="node">
<title>19</title>
<polygon fill="#f2f2f2" stroke="black" points="739.23,-1319.3 739.23,-1637.7 2184.27,-1637.7 2184.27,-1319.3 739.23,-1319.3"/>
<text text-anchor="middle" x="1461.75" y="-1621.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1461.75" y="-1604.3" font-family="Times,serif" font-size="14.00">IVieTokenPoolHook</text>
<text text-anchor="middle" x="1461.75" y="-1587.5" font-family="Times,serif" font-size="14.00">contracts/coin/interfaces/IVieTokenPoolHook.sol</text>
<polyline fill="none" stroke="black" points="739.23,-1579.3 2184.27,-1579.3 "/>
<text text-anchor="start" x="747.23" y="-1562.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="747.23" y="-1545.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;staticVieFeeShareBps(): uint256</text>
<text text-anchor="start" x="747.23" y="-1529.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;platformFeeRecipient(): address</text>
<text text-anchor="start" x="747.23" y="-1512.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;tokenFeeRecipient(poolId: PoolId): address</text>
<text text-anchor="start" x="747.23" y="-1495.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;singlePositionId(poolId: PoolId): uint256</text>
<text text-anchor="start" x="747.23" y="-1478.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setVieVault(_vieVault: address)</text>
<text text-anchor="start" x="747.23" y="-1461.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setStaticVieFeeShareBps(_staticVieFeeShareBps: uint256)</text>
<text text-anchor="start" x="747.23" y="-1445.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setPlatformFeeRecipient(_platformFeeRecipient: address)</text>
<text text-anchor="start" x="747.23" y="-1428.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setTokenFeeRecipient(poolId: PoolId, newTokenFeeRecipient: address)</text>
<text text-anchor="start" x="747.23" y="-1411.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;createPoolAndAddLiquidity(vieToken: address, vieTokenSupply: uint256, _tokenFeeRecipient: address, startingSqrtPrice: uint160): (poolKey: PoolKey)</text>
<text text-anchor="start" x="747.23" y="-1394.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;withdrawNativeGasToken(recipient: address)</text>
<text text-anchor="start" x="747.23" y="-1377.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;withdrawERC20(token: address, recipient: address)</text>
<text text-anchor="start" x="747.23" y="-1361.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="747.23" y="-1344.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FeesSweptIntoVault(vieToken: address, weth: address, vieTokenRecipientDepositAmount: uint256, wethRecipientDepositAmount: uint256, vieTokenPlatformDepositAmount: uint256, wethPlatformDepositAmount: uint256, poolId: PoolId)</text>
<text text-anchor="start" x="747.23" y="-1327.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PoolCreatedFactory(vieToken: address, initialPositionId: uint256, poolId: PoolId, weth: IWETH9, tick: int24, tickSpacing: int24, initialPrice: uint160)</text>
</g>
<!-- 0&#45;&gt;19 -->
<g id="edge6" class="edge">
<title>0&#45;&gt;19</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4392.73,-824.47C3806.35,-868.19 2934.22,-962.82 2198.75,-1163.6 2060.99,-1201.21 1915.17,-1259.15 1789.92,-1315.06"/>
<polygon fill="black" stroke="black" points="1788.26,-1311.97 1780.56,-1319.25 1791.12,-1318.36 1788.26,-1311.97"/>
</g>
<!-- 9 -->
<g id="node16" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="black" points="5783.63,-1369.7 5783.63,-1587.3 6389.86,-1587.3 6389.86,-1369.7 5783.63,-1369.7"/>
<text text-anchor="middle" x="6086.75" y="-1570.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="6086.75" y="-1553.9" font-family="Times,serif" font-size="14.00">IVieRegistryV1</text>
<text text-anchor="middle" x="6086.75" y="-1537.1" font-family="Times,serif" font-size="14.00">contracts/interfaces/IVieRegistryV1.sol</text>
<polyline fill="none" stroke="black" points="5783.63,-1528.9 6389.86,-1528.9 "/>
<text text-anchor="start" x="5791.63" y="-1512.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="5791.63" y="-1495.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;registerSFT(sftAddress: address)</text>
<text text-anchor="start" x="5791.63" y="-1478.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;registerToken(tokenAddress: address, poolKey: PoolKey)</text>
<text text-anchor="start" x="5791.63" y="-1461.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getUserFTs(user: address): (fts: FT[])</text>
<text text-anchor="start" x="5791.63" y="-1445.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getUserSFTAddresses(user: address): (sftAddresses: address[])</text>
<text text-anchor="start" x="5791.63" y="-1428.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getUserTokens(user: address): (fts: FT[], sftAddresses: address[])</text>
<text text-anchor="start" x="5791.63" y="-1411.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getUserTokensWithSupplies(user: address): (fts: FT[], sftAddresses: address[], sftSupplies: uint256[])</text>
<text text-anchor="start" x="5791.63" y="-1394.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getFTByPoolId(poolId: bytes32): (ft: FT)</text>
<text text-anchor="start" x="5791.63" y="-1377.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getFTByTokenAddress(tokenAddress: address): (ft: FT)</text>
</g>
<!-- 0&#45;&gt;9 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;9</title>
<path fill="none" stroke="black" d="M5500.68,-992.76C5594.41,-1043.51 5690.44,-1101.38 5774.75,-1163.6 5852.87,-1221.26 5929.89,-1298.47 5987.86,-1361.89"/>
<polygon fill="black" stroke="black" points="5985.51,-1364.52 5994.83,-1369.56 5990.69,-1359.81 5985.51,-1364.52"/>
</g>
<!-- 13 -->
<g id="node34" class="node">
<title>13</title>
<polygon fill="#f2f2f2" stroke="black" points="2240.75,-1164.1 2240.75,-1792.9 3190.75,-1792.9 3190.75,-1164.1 2240.75,-1164.1"/>
<text text-anchor="middle" x="2715.75" y="-1776.3" font-family="Times,serif" font-size="14.00">VieSFT</text>
<text text-anchor="middle" x="2715.75" y="-1759.5" font-family="Times,serif" font-size="14.00">contracts/sft/VieSFT.sol</text>
<polyline fill="none" stroke="black" points="2240.75,-1751.3 3190.75,-1751.3 "/>
<text text-anchor="start" x="2248.75" y="-1734.7" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="2248.75" y="-1717.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_minters: EnumerableSet.AddressSet</text>
<text text-anchor="start" x="2248.75" y="-1701.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="2248.75" y="-1684.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;contractURI: string</text>
<text text-anchor="start" x="2248.75" y="-1667.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;tokenDetails: mapping(uint256=&gt;TokenDetails)</text>
<polyline fill="none" stroke="black" points="2240.75,-1659.3 3190.75,-1659.3 "/>
<text text-anchor="start" x="2248.75" y="-1642.7" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="2248.75" y="-1625.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_create(tokenId: uint256, maxSupply: uint248, metadataUri: string)</text>
<text text-anchor="start" x="2248.75" y="-1609.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="2248.75" y="-1592.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_addMinter(minter: address)</text>
<text text-anchor="start" x="2248.75" y="-1575.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_update(from: address, to: address, ids: uint256[], values: uint256[])</text>
<text text-anchor="start" x="2248.75" y="-1558.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_updateTokenSupply(tokenId: uint256, amount: uint248)</text>
<text text-anchor="start" x="2248.75" y="-1541.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_updateTokenURI(tokenId: uint256, newTokenURI: string)</text>
<text text-anchor="start" x="2248.75" y="-1525.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="2248.75" y="-1508.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addMinter(minter: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="2248.75" y="-1491.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeMinter(minter: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="2248.75" y="-1474.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateMaxSupply(tokenId: uint256, newMaxSupply: uint248) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="2248.75" y="-1457.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateTokenURI(tokenId: uint256, newTokenURI: string) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="2248.75" y="-1441.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateTokenDetails(tokenId: uint256, newMaxSupply: uint248, newTokenURI: string) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="2248.75" y="-1424.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mint(to: address, id: uint256, amount: uint256, data: bytes)</text>
<text text-anchor="start" x="2248.75" y="-1407.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mintBatch(to: address, ids: uint256[], amounts: uint256[], data: bytes)</text>
<text text-anchor="start" x="2248.75" y="-1390.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setContractURI(newContractURI: string) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="2248.75" y="-1373.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isMinter(minter: address): bool</text>
<text text-anchor="start" x="2248.75" y="-1357.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getMinters(): address[]</text>
<text text-anchor="start" x="2248.75" y="-1340.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getTokenDetails(tokenId: uint256): TokenDetails</text>
<text text-anchor="start" x="2248.75" y="-1323.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="2248.75" y="-1306.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MinterAdded(minter: address)</text>
<text text-anchor="start" x="2248.75" y="-1289.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MinterRemoved(minter: address)</text>
<text text-anchor="start" x="2248.75" y="-1273.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TokenCreated(tokenId: uint256, maxSupply: uint256)</text>
<text text-anchor="start" x="2248.75" y="-1256.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="2248.75" y="-1239.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(uri_: string, initialOwner: address, initialMinter: address, contractURI_: string) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="2248.75" y="-1222.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;create(tokenId: uint256, maxSupply: uint248, metadataUri: string) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="2248.75" y="-1205.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createWithFixedPriceSale(tokenId: uint256, maxSupply: uint248, metadataUri: string, sale: IVieSFTMintManager.Sale, sftMintManager: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="2248.75" y="-1189.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isTokenMintable(tokenId: uint256): bool</text>
<text text-anchor="start" x="2248.75" y="-1172.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;uri(tokenId: uint256): string</text>
</g>
<!-- 0&#45;&gt;13 -->
<g id="edge4" class="edge">
<title>0&#45;&gt;13</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4392.77,-861.08C4033.19,-915.26 3586.96,-1007.17 3200.46,-1163.38"/>
<polygon fill="black" stroke="black" points="3199,-1160.19 3191.05,-1167.2 3201.63,-1166.68 3199,-1160.19"/>
</g>
<!-- 38 -->
<g id="node39" class="node">
<title>38</title>
<polygon fill="#f2f2f2" stroke="black" points="3406.53,-1930.7 3406.53,-2030.7 3920.96,-2030.7 3920.96,-1930.7 3406.53,-1930.7"/>
<text text-anchor="middle" x="3663.75" y="-2014.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3663.75" y="-1997.3" font-family="Times,serif" font-size="14.00">IVieSFTMintManager</text>
<text text-anchor="middle" x="3663.75" y="-1980.5" font-family="Times,serif" font-size="14.00">contracts/sft/interfaces/IVieSFTMintManager.sol</text>
<polyline fill="none" stroke="black" points="3406.53,-1972.3 3920.96,-1972.3 "/>
<text text-anchor="start" x="3414.53" y="-1955.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="3414.53" y="-1938.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;createFixedPricePublicSale(sftContractAddress: address, tokenId: uint256, sale: Sale)</text>
</g>
<!-- 0&#45;&gt;38 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;38</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5090.06,-992.96C5096.96,-1048.22 5103.28,-1108.09 5106.75,-1163.6 5111.11,-1233.44 5155.32,-1743.02 5106.75,-1793.4 5068.7,-1832.86 4174.71,-1819.74 4120.75,-1829.4 4006.6,-1849.83 3881.85,-1892.31 3791.57,-1926.91"/>
<polygon fill="black" stroke="black" points="3790.19,-1923.69 3782.12,-1930.55 3792.71,-1930.22 3790.19,-1923.69"/>
</g>
<!-- 39 -->
<g id="node40" class="node">
<title>39</title>
<polygon fill="#f2f2f2" stroke="black" points="3517.54,-2168.5 3517.54,-2318.9 3809.96,-2318.9 3809.96,-2168.5 3517.54,-2168.5"/>
<text text-anchor="middle" x="3663.75" y="-2302.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="3663.75" y="-2285.5" font-family="Times,serif" font-size="14.00">Sale</text>
<text text-anchor="middle" x="3663.75" y="-2268.7" font-family="Times,serif" font-size="14.00">contracts/sft/interfaces/IVieSFTMintManager.sol</text>
<polyline fill="none" stroke="black" points="3517.54,-2260.5 3809.96,-2260.5 "/>
<text text-anchor="start" x="3525.54" y="-2243.9" font-family="Times,serif" font-size="14.00">currency: address</text>
<text text-anchor="start" x="3525.54" y="-2227.1" font-family="Times,serif" font-size="14.00">startDate: uint48</text>
<text text-anchor="start" x="3525.54" y="-2210.3" font-family="Times,serif" font-size="14.00">endDate: uint48</text>
<text text-anchor="start" x="3525.54" y="-2193.5" font-family="Times,serif" font-size="14.00">price: uint248</text>
<text text-anchor="start" x="3525.54" y="-2176.7" font-family="Times,serif" font-size="14.00">created: bool</text>
</g>
<!-- 0&#45;&gt;39 -->
<g id="edge3" class="edge">
<title>0&#45;&gt;39</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5106.25,-992.87C5116.8,-1048 5126.44,-1107.82 5131.75,-1163.6 5145,-1302.93 5228.87,-1692.63 5131.75,-1793.4 5056.29,-1871.69 4249.94,-1778.69 4153.75,-1829.4 4005.73,-1907.44 4061.53,-2028.89 3929.75,-2132 3919.27,-2140.2 3871.58,-2160.69 3819.41,-2181.85"/>
<polygon fill="black" stroke="black" points="3817.93,-2178.67 3809.97,-2185.67 3820.56,-2185.16 3817.93,-2178.67"/>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="black" points="7363.18,-164.1 7363.18,-247.3 7714.31,-247.3 7714.31,-164.1 7363.18,-164.1"/>
<text text-anchor="middle" x="7538.75" y="-230.7" font-family="Times,serif" font-size="14.00">VieRegistry</text>
<text text-anchor="middle" x="7538.75" y="-213.9" font-family="Times,serif" font-size="14.00">contracts/VieRegistry.sol</text>
<polyline fill="none" stroke="black" points="7363.18,-205.7 7714.31,-205.7 "/>
<text text-anchor="start" x="7371.18" y="-189.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="7371.18" y="-172.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_implementation: address, platform: address)</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="black" points="5782.38,-515.1 5782.38,-1059.9 6385.11,-1059.9 6385.11,-515.1 5782.38,-515.1"/>
<text text-anchor="middle" x="6083.75" y="-1043.3" font-family="Times,serif" font-size="14.00">VieRegistryV1</text>
<text text-anchor="middle" x="6083.75" y="-1026.5" font-family="Times,serif" font-size="14.00">contracts/VieRegistryV1.sol</text>
<polyline fill="none" stroke="black" points="5782.38,-1018.3 6385.11,-1018.3 "/>
<text text-anchor="start" x="5790.38" y="-1001.7" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="5790.38" y="-984.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_registrars: EnumerableSet.AddressSet</text>
<text text-anchor="start" x="5790.38" y="-968.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;poolByPoolId: mapping(bytes32=&gt;PoolKey)</text>
<text text-anchor="start" x="5790.38" y="-951.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;poolIdByTokenAddress: mapping(address=&gt;bytes32)</text>
<text text-anchor="start" x="5790.38" y="-934.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;userTokenAddresses: mapping(address=&gt;EnumerableSet.AddressSet)</text>
<text text-anchor="start" x="5790.38" y="-917.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;userSftAddresses: mapping(address=&gt;EnumerableSet.AddressSet)</text>
<polyline fill="none" stroke="black" points="5782.38,-909.5 6385.11,-909.5 "/>
<text text-anchor="start" x="5790.38" y="-892.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="5790.38" y="-876.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_authorizeUpgrade(newImplementation: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="5790.38" y="-859.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="5790.38" y="-842.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addRegistrar(registrar: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="5790.38" y="-825.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeRegistrar(registrar: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="5790.38" y="-808.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isRegistrar(registrar: address): bool</text>
<text text-anchor="start" x="5790.38" y="-792.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getRegistrars(): address[]</text>
<text text-anchor="start" x="5790.38" y="-775.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;registerSFT(sftAddress: address) &lt;&lt;onlyRegistrar&gt;&gt;</text>
<text text-anchor="start" x="5790.38" y="-758.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;registerToken(tokenAddress: address, poolKey: PoolKey) &lt;&lt;onlyRegistrar&gt;&gt;</text>
<text text-anchor="start" x="5790.38" y="-741.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getUserSFTAddresses(user: address): address[]</text>
<text text-anchor="start" x="5790.38" y="-724.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getUserTokens(user: address): (fts: FT[], sftAddresses: address[])</text>
<text text-anchor="start" x="5790.38" y="-708.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getUserTokensWithSupplies(user: address): (fts: FT[], sftAddresses: address[], sftSupplies: uint256[])</text>
<text text-anchor="start" x="5790.38" y="-691.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getFTByPoolId(poolId: bytes32): (ft: FT)</text>
<text text-anchor="start" x="5790.38" y="-674.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getFTByTokenAddress(tokenAddress: address): (ft: FT)</text>
<text text-anchor="start" x="5790.38" y="-657.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="5790.38" y="-640.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RegistrarAdded(registrar: address)</text>
<text text-anchor="start" x="5790.38" y="-624.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RegistrarRemoved(registrar: address)</text>
<text text-anchor="start" x="5790.38" y="-607.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TokenRegistered(user: address, tokenAddress: address, poolId: bytes32)</text>
<text text-anchor="start" x="5790.38" y="-590.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SFTRegistered(user: address, sftAddress: address)</text>
<text text-anchor="start" x="5790.38" y="-573.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyRegistrar()</text>
<text text-anchor="start" x="5790.38" y="-556.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="5790.38" y="-540.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(_platform: address) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="5790.38" y="-523.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getUserFTs(user: address): (fts: FT[])</text>
</g>
<!-- 2&#45;&gt;9 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;9</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6084.93,-1060.32C6085.35,-1155.95 6085.8,-1259.4 6086.15,-1339.37"/>
<polygon fill="none" stroke="black" points="6075.65,-1339.67 6086.28,-1369.62 6096.65,-1339.58 6075.65,-1339.67"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="black" points="5966.54,-0.5 5966.54,-410.9 7344.96,-410.9 7344.96,-0.5 5966.54,-0.5"/>
<text text-anchor="middle" x="6655.75" y="-394.3" font-family="Times,serif" font-size="14.00">VieSystemTest</text>
<text text-anchor="middle" x="6655.75" y="-377.5" font-family="Times,serif" font-size="14.00">contracts/VieSystemTest.test.sol</text>
<polyline fill="none" stroke="black" points="5966.54,-369.3 7344.96,-369.3 "/>
<text text-anchor="start" x="5974.54" y="-352.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="5974.54" y="-335.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;weth: IWETH9</text>
<text text-anchor="start" x="5974.54" y="-319.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;permit2: IPermit2</text>
<text text-anchor="start" x="5974.54" y="-302.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;universalRouter: IUniversalRouter</text>
<text text-anchor="start" x="5974.54" y="-285.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;poolManager: IPoolManager</text>
<text text-anchor="start" x="5974.54" y="-268.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;positionManager: IPositionManager</text>
<text text-anchor="start" x="5974.54" y="-251.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;TOKEN_MAX_SUPPLY: uint256</text>
<text text-anchor="start" x="5974.54" y="-235.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;STARTING_SQRT_PRICE: uint160</text>
<polyline fill="none" stroke="black" points="5966.54,-226.9 7344.96,-226.9 "/>
<text text-anchor="start" x="5974.54" y="-210.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="5974.54" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; deployTestToken(factoryAddress: address, name: string, symbol: string, salt: bytes32): (tokenAddress: address, poolId: bytes32)</text>
<text text-anchor="start" x="5974.54" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; testSwapEthForToken(swapManagerAddress: address, token: address, exactEthAmountIn: uint128, minimumTokenAmountOut: uint128): (tokenAmountOut: uint256)</text>
<text text-anchor="start" x="5974.54" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; runComprehensiveTests(factoryAddress: address, swapManagerAddress: address, deploySalt: bytes32)</text>
<text text-anchor="start" x="5974.54" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; null()</text>
<text text-anchor="start" x="5974.54" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;testSwapTokenForEth(swapManagerAddress: address, token: address, exactTokenAmountIn: uint128, minimumEthAmountOut: uint128): (ethAmountOut: uint256)</text>
<text text-anchor="start" x="5974.54" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;testSwapTokenForEthWithPermit(swapManagerAddress: address, token: address, exactTokenAmountIn: uint128, minimumEthAmountOut: uint128, permitData: IVieTokenSwapManager.PermitSignaturePayload): (ethAmountOut: uint256)</text>
<text text-anchor="start" x="5974.54" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getExternalAddresses(): (_weth: address, _permit2: address, _universalRouter: address, _poolManager: address, _positionManager: address)</text>
<text text-anchor="start" x="5974.54" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdrawETH() &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="5974.54" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdrawToken(token: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="5974.54" y="-42.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="5974.54" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SwapExecuted(swapType: string, amountIn: uint256, amountOut: uint256)</text>
<text text-anchor="start" x="5974.54" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_weth: address, _permit2: address, _universalRouter: address, _poolManager: address, _positionManager: address)</text>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge11" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5966.44,-371.71C5889.58,-394.93 5813.01,-420.23 5740.75,-447.4 5642.69,-484.27 5540.02,-530.84 5445.02,-577.57"/>
<polygon fill="black" stroke="black" points="5443.27,-574.53 5435.85,-582.09 5446.36,-580.8 5443.27,-574.53"/>
</g>
<!-- 18 -->
<g id="node11" class="node">
<title>18</title>
<polygon fill="#f2f2f2" stroke="black" points="6778.12,-1428.5 6778.12,-1528.5 7153.37,-1528.5 7153.37,-1428.5 6778.12,-1428.5"/>
<text text-anchor="middle" x="6965.75" y="-1511.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="6965.75" y="-1495.1" font-family="Times,serif" font-size="14.00">IUniversalRouter</text>
<text text-anchor="middle" x="6965.75" y="-1478.3" font-family="Times,serif" font-size="14.00">contracts/coin/interfaces/IUniversalRouter.sol</text>
<polyline fill="none" stroke="black" points="6778.12,-1470.1 7153.37,-1470.1 "/>
<text text-anchor="start" x="6786.12" y="-1453.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="6786.12" y="-1436.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;execute(commands: bytes, inputs: bytes[], deadline: uint256)</text>
</g>
<!-- 3&#45;&gt;18 -->
<g id="edge10" class="edge">
<title>3&#45;&gt;18</title>
<path fill="none" stroke="black" d="M7344.99,-409.25C7347.91,-409.97 7350.83,-410.69 7353.75,-411.4 7434.7,-431.15 7484.78,-383.07 7537.75,-447.4 7633.82,-564.09 7639.4,-1015.73 7537.75,-1127.6 7481.45,-1189.56 7233.99,-1119.63 7162.75,-1163.6 7067.91,-1222.14 7011.22,-1345.18 6984.47,-1418.63"/>
<polygon fill="black" stroke="black" points="6981.12,-1417.62 6981.05,-1428.21 6987.71,-1419.97 6981.12,-1417.62"/>
</g>
<!-- 20 -->
<g id="node13" class="node">
<title>20</title>
<polygon fill="#f2f2f2" stroke="black" points="7171.65,-1386.5 7171.65,-1570.5 8363.85,-1570.5 8363.85,-1386.5 7171.65,-1386.5"/>
<text text-anchor="middle" x="7767.75" y="-1553.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="7767.75" y="-1537.1" font-family="Times,serif" font-size="14.00">IVieTokenSwapManager</text>
<text text-anchor="middle" x="7767.75" y="-1520.3" font-family="Times,serif" font-size="14.00">contracts/coin/interfaces/IVieTokenSwapManager.sol</text>
<polyline fill="none" stroke="black" points="7171.65,-1512.1 8363.85,-1512.1 "/>
<text text-anchor="start" x="7179.65" y="-1495.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="7179.65" y="-1478.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;swapExactEthAmountForToken(token: address, exactEthAmountIn: uint128, minimumTokenAmountOut: uint128): (tokenAmountOut: uint256)</text>
<text text-anchor="start" x="7179.65" y="-1461.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;swapExactTokenAmountForEth(token: address, exactTokenAmountIn: uint128, minimumEthAmountOut: uint128): (ethOut: uint256)</text>
<text text-anchor="start" x="7179.65" y="-1445.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;swapExactTokenAmountForEthWithPermitSignature(token: address, exactTokenAmountIn: uint128, minimumEthAmountOut: uint128, permitSignaturePayload: PermitSignaturePayload): (ethOut: uint256)</text>
<text text-anchor="start" x="7179.65" y="-1428.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="7179.65" y="-1411.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SwapEthForToken(user: address, token: address, ethAmountIn: uint256, tokenAmountOut: uint256)</text>
<text text-anchor="start" x="7179.65" y="-1394.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SwapTokenForEth(user: address, token: address, tokenAmountIn: uint256, ethAmountOut: uint256)</text>
</g>
<!-- 3&#45;&gt;20 -->
<g id="edge12" class="edge">
<title>3&#45;&gt;20</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M7345.41,-409.54C7348.2,-410.16 7350.97,-410.78 7353.75,-411.4 7405.32,-422.86 7551.02,-410.42 7588.75,-447.4 7843.2,-696.8 7812.69,-1169.33 7784.61,-1376.21"/>
<polygon fill="black" stroke="black" points="7781.13,-1375.78 7783.23,-1386.16 7788.07,-1376.74 7781.13,-1375.78"/>
</g>
<!-- 21 -->
<g id="node14" class="node">
<title>21</title>
<polygon fill="#f2f2f2" stroke="black" points="7608.72,-1913.9 7608.72,-2047.5 7926.77,-2047.5 7926.77,-1913.9 7608.72,-1913.9"/>
<text text-anchor="middle" x="7767.75" y="-2030.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="7767.75" y="-2014.1" font-family="Times,serif" font-size="14.00">PermitSignaturePayload</text>
<text text-anchor="middle" x="7767.75" y="-1997.3" font-family="Times,serif" font-size="14.00">contracts/coin/interfaces/IVieTokenSwapManager.sol</text>
<polyline fill="none" stroke="black" points="7608.72,-1989.1 7926.77,-1989.1 "/>
<text text-anchor="start" x="7616.72" y="-1972.5" font-family="Times,serif" font-size="14.00">v: uint8</text>
<text text-anchor="start" x="7616.72" y="-1955.7" font-family="Times,serif" font-size="14.00">r: bytes32</text>
<text text-anchor="start" x="7616.72" y="-1938.9" font-family="Times,serif" font-size="14.00">s: bytes32</text>
<text text-anchor="start" x="7616.72" y="-1922.1" font-family="Times,serif" font-size="14.00">deadline: uint256</text>
</g>
<!-- 3&#45;&gt;21 -->
<g id="edge13" class="edge">
<title>3&#45;&gt;21</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M7345.37,-409.75C7348.17,-410.3 7350.96,-410.85 7353.75,-411.4 7509.82,-441.91 7567.42,-376.46 7709.75,-447.4 8097.97,-640.89 8214.51,-759.73 8372.75,-1163.6 8474.86,-1424.22 8539.02,-1568.22 8372.75,-1793.4 8320.51,-1864.14 8097.18,-1919.24 7937.07,-1950.61"/>
<polygon fill="black" stroke="black" points="7936.24,-1947.2 7927.1,-1952.55 7937.58,-1954.07 7936.24,-1947.2"/>
</g>
<!-- 12 -->
<g id="node19" class="node">
<title>12</title>
<polygon fill="#f2f2f2" stroke="black" points="610.43,-1922.3 610.43,-2039.1 811.07,-2039.1 811.07,-1922.3 610.43,-1922.3"/>
<text text-anchor="middle" x="710.75" y="-2022.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="710.75" y="-2005.7" font-family="Times,serif" font-size="14.00">IWETH9</text>
<text text-anchor="middle" x="710.75" y="-1988.9" font-family="Times,serif" font-size="14.00">contracts/interfaces/IWETH9.sol</text>
<polyline fill="none" stroke="black" points="610.43,-1980.7 811.07,-1980.7 "/>
<text text-anchor="start" x="618.43" y="-1964.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="618.43" y="-1947.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;withdraw(wad: uint256)</text>
<text text-anchor="start" x="618.43" y="-1930.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;deposit()</text>
</g>
<!-- 3&#45;&gt;12 -->
<g id="edge8" class="edge">
<title>3&#45;&gt;12</title>
<path fill="none" stroke="black" d="M5966.33,-253.39C5513.99,-290.49 4910.83,-352.23 4383.75,-447.4 3189.26,-663.07 2940.05,-953.79 1738.75,-1127.6 1683.24,-1135.63 769.16,-1123.69 729.75,-1163.6 677.76,-1216.23 697.94,-1725.93 707.15,-1912.08"/>
<polygon fill="black" stroke="black" points="703.66,-1912.47 707.66,-1922.28 710.65,-1912.12 703.66,-1912.47"/>
</g>
<!-- 31 -->
<g id="node28" class="node">
<title>31</title>
<polygon fill="#f2f2f2" stroke="black" points="5191.49,-1449.3 5191.49,-1507.7 5438.01,-1507.7 5438.01,-1449.3 5191.49,-1449.3"/>
<text text-anchor="middle" x="5314.75" y="-1491.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="5314.75" y="-1474.3" font-family="Times,serif" font-size="14.00">IPermit2</text>
<text text-anchor="middle" x="5314.75" y="-1457.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/IPermit2.sol</text>
</g>
<!-- 3&#45;&gt;31 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;31</title>
<path fill="none" stroke="black" d="M5966.5,-342.8C5877.34,-372.85 5805.81,-407.75 5773.75,-447.4 5678.54,-565.11 5839.09,-1016.97 5735.75,-1127.6 5647.39,-1222.19 5549.92,-1085.44 5446.75,-1163.6 5357.29,-1231.37 5327.92,-1371.25 5318.72,-1439.02"/>
<polygon fill="black" stroke="black" points="5315.2,-1438.9 5317.4,-1449.26 5322.15,-1439.78 5315.2,-1438.9"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="black" points="28.87,-557.1 28.87,-1017.9 722.63,-1017.9 722.63,-557.1 28.87,-557.1"/>
<text text-anchor="middle" x="375.75" y="-1001.3" font-family="Times,serif" font-size="14.00">VieVault</text>
<text text-anchor="middle" x="375.75" y="-984.5" font-family="Times,serif" font-size="14.00">contracts/VieVault.sol</text>
<polyline fill="none" stroke="black" points="28.87,-976.3 722.63,-976.3 "/>
<text text-anchor="start" x="36.87" y="-959.7" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="36.87" y="-942.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_balances: mapping(address=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="36.87" y="-926.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_userCurrencies: mapping(address=&gt;EnumerableSet.AddressSet)</text>
<text text-anchor="start" x="36.87" y="-909.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_admins: EnumerableSet.AddressSet</text>
<text text-anchor="start" x="36.87" y="-892.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="36.87" y="-875.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;weth: address</text>
<polyline fill="none" stroke="black" points="28.87,-867.5 722.63,-867.5 "/>
<text text-anchor="start" x="36.87" y="-850.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="36.87" y="-834.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_deposit(account: address, currency: address, amount: uint256)</text>
<text text-anchor="start" x="36.87" y="-817.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="36.87" y="-800.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; null()</text>
<text text-anchor="start" x="36.87" y="-783.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addAdmin(admin: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="36.87" y="-766.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeAdmin(admin: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="36.87" y="-750.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;deposit(account: address, currency: address, amount: uint256) &lt;&lt;nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="36.87" y="-733.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;virtualDeposit(account: address, currency: address, amount: uint256) &lt;&lt;onlyAdmin, nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="36.87" y="-716.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;virtualDepositMultiple(accounts: address[], currencies: address[], amounts: uint256[]) &lt;&lt;onlyAdmin, nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="36.87" y="-699.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdraw(account: address, currency: address) &lt;&lt;nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="36.87" y="-682.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdrawMany(account: address, currencies: address[]) &lt;&lt;nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="36.87" y="-666.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;balanceOf(account: address, currency: address): uint256</text>
<text text-anchor="start" x="36.87" y="-649.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;currenciesHeld(account: address): address[]</text>
<text text-anchor="start" x="36.87" y="-632.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;balances(account: address): (currencies: address[], amounts: uint256[])</text>
<text text-anchor="start" x="36.87" y="-615.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;admins(): address[]</text>
<text text-anchor="start" x="36.87" y="-598.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="36.87" y="-582.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAdmin()</text>
<text text-anchor="start" x="36.87" y="-565.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_weth: address, initialOwner: address, initialAdmin: address)</text>
</g>
<!-- 11 -->
<g id="node18" class="node">
<title>11</title>
<polygon fill="#f2f2f2" stroke="black" points="106.45,-1319.3 106.45,-1637.7 645.05,-1637.7 645.05,-1319.3 106.45,-1319.3"/>
<text text-anchor="middle" x="375.75" y="-1621.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="375.75" y="-1604.3" font-family="Times,serif" font-size="14.00">IVieVault</text>
<text text-anchor="middle" x="375.75" y="-1587.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/IVieVault.sol</text>
<polyline fill="none" stroke="black" points="106.45,-1579.3 645.05,-1579.3 "/>
<text text-anchor="start" x="114.45" y="-1562.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="114.45" y="-1545.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;addAdmin(admin: address)</text>
<text text-anchor="start" x="114.45" y="-1529.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;removeAdmin(admin: address)</text>
<text text-anchor="start" x="114.45" y="-1512.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;deposit(account: address, currency: address, amount: uint256)</text>
<text text-anchor="start" x="114.45" y="-1495.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;virtualDeposit(account: address, currency: address, amount: uint256)</text>
<text text-anchor="start" x="114.45" y="-1478.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;virtualDepositMultiple(accounts: address[], currencies: address[], amounts: uint256[])</text>
<text text-anchor="start" x="114.45" y="-1461.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;withdraw(account: address, currency: address)</text>
<text text-anchor="start" x="114.45" y="-1445.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;withdrawMany(account: address, currencies: address[])</text>
<text text-anchor="start" x="114.45" y="-1428.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;balanceOf(account: address, currency: address): uint256</text>
<text text-anchor="start" x="114.45" y="-1411.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;currenciesHeld(account: address): address[]</text>
<text text-anchor="start" x="114.45" y="-1394.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;balances(account: address): (currencies: address[], amounts: uint256[])</text>
<text text-anchor="start" x="114.45" y="-1377.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;admins(): address[]</text>
<text text-anchor="start" x="114.45" y="-1361.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="114.45" y="-1344.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Deposit(account: address, currency: address, sender: address, amount: uint256)</text>
<text text-anchor="start" x="114.45" y="-1327.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Withdrawal(account: address, currency: address, amount: uint256)</text>
</g>
<!-- 4&#45;&gt;11 -->
<g id="edge14" class="edge">
<title>4&#45;&gt;11</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M375.75,-1017.93C375.75,-1105.96 375.75,-1205.32 375.75,-1289.08"/>
<polygon fill="none" stroke="black" points="365.25,-1289.18 375.75,-1319.18 386.25,-1289.18 365.25,-1289.18"/>
</g>
<!-- 4&#45;&gt;12 -->
<g id="edge15" class="edge">
<title>4&#45;&gt;12</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M171.2,-1017.97C141.02,-1063.45 114.49,-1112.9 97.75,-1163.6 9.99,-1429.4 -68.94,-1568.53 97.75,-1793.4 157.84,-1874.47 440.71,-1934.21 600.36,-1962.13"/>
<polygon fill="black" stroke="black" points="599.77,-1965.58 610.22,-1963.84 600.97,-1958.68 599.77,-1965.58"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="black" points="740.19,-447.9 740.19,-1127.1 1729.31,-1127.1 1729.31,-447.9 740.19,-447.9"/>
<text text-anchor="middle" x="1234.75" y="-1110.5" font-family="Times,serif" font-size="14.00">VieTokenPoolHook</text>
<text text-anchor="middle" x="1234.75" y="-1093.7" font-family="Times,serif" font-size="14.00">contracts/coin/VieTokenPoolHook.sol</text>
<polyline fill="none" stroke="black" points="740.19,-1085.5 1729.31,-1085.5 "/>
<text text-anchor="start" x="748.19" y="-1068.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="748.19" y="-1052.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;BLOCKS_TO_WAIT: uint256</text>
<text text-anchor="start" x="748.19" y="-1035.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;LP_FEE_PIPS: uint24</text>
<text text-anchor="start" x="748.19" y="-1018.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;TICK_SPACING: int24</text>
<text text-anchor="start" x="748.19" y="-1001.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_poolCreatedBlock: mapping(PoolId=&gt;uint256)</text>
<text text-anchor="start" x="748.19" y="-984.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="748.19" y="-968.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;MIN_SQRT_PRICE: uint160</text>
<text text-anchor="start" x="748.19" y="-951.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;MAX_SQRT_PRICE: uint160</text>
<text text-anchor="start" x="748.19" y="-934.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="748.19" y="-917.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;staticVieFeeShareBps: uint256</text>
<text text-anchor="start" x="748.19" y="-900.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;vieVault: IVieVault</text>
<text text-anchor="start" x="748.19" y="-884.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;positionManager: IPositionManager</text>
<text text-anchor="start" x="748.19" y="-867.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;weth: IWETH9</text>
<text text-anchor="start" x="748.19" y="-850.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;permit2: IPermit2</text>
<text text-anchor="start" x="748.19" y="-833.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;factory: address</text>
<text text-anchor="start" x="748.19" y="-816.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;platformFeeRecipient: address</text>
<text text-anchor="start" x="748.19" y="-800.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;tokenFeeRecipient: mapping(PoolId=&gt;address)</text>
<text text-anchor="start" x="748.19" y="-783.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;singlePositionId: mapping(PoolId=&gt;uint256)</text>
<polyline fill="none" stroke="black" points="740.19,-775.1 1729.31,-775.1 "/>
<text text-anchor="start" x="748.19" y="-758.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="748.19" y="-741.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_afterSwap(address, key: PoolKey, SwapParams, BalanceDelta, bytes): (bytes4, int128)</text>
<text text-anchor="start" x="748.19" y="-724.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_sweepLPFeesIntoVault(poolKey: PoolKey)</text>
<text text-anchor="start" x="748.19" y="-708.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_beforeAddLiquidity(address, poolKey: PoolKey, ModifyLiquidityParams, bytes): bytes4</text>
<text text-anchor="start" x="748.19" y="-691.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_beforeInitialize(address, PoolKey, uint160): bytes4</text>
<text text-anchor="start" x="748.19" y="-674.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_preventActionEarly(poolKey: PoolKey)</text>
<text text-anchor="start" x="748.19" y="-657.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_floorToSpacing(t: int24, spacing: int24): int24</text>
<text text-anchor="start" x="748.19" y="-640.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="748.19" y="-624.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setVieVault(_vieVault: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="748.19" y="-607.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setStaticVieFeeShareBps(_staticVieFeeShareBps: uint256) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="748.19" y="-590.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setPlatformFeeRecipient(_platformFeeRecipient: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="748.19" y="-573.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setTokenFeeRecipient(poolId: PoolId, newTokenFeeRecipient: address)</text>
<text text-anchor="start" x="748.19" y="-556.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="748.19" y="-540.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyFactory()</text>
<text text-anchor="start" x="748.19" y="-523.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_factory: address, _weth: address, _vieVault: address, _positionManager: address, _poolManager: address, _platformFeeRecipient: address, _permit2: address)</text>
<text text-anchor="start" x="748.19" y="-506.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createPoolAndAddLiquidity(vieToken: address, vieTokenSupply: uint256, _tokenFeeRecipient: address, startingSqrtPrice: uint160): PoolKey &lt;&lt;onlyFactory&gt;&gt;</text>
<text text-anchor="start" x="748.19" y="-489.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdrawNativeGasToken(recipient: address) &lt;&lt;onlyOwner, nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="748.19" y="-472.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdrawERC20(token: address, recipient: address) &lt;&lt;onlyOwner, nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="748.19" y="-456.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getHookPermissions(): Hooks.Permissions</text>
</g>
<!-- 6&#45;&gt;19 -->
<g id="edge16" class="edge">
<title>6&#45;&gt;19</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1346.34,-1127.2C1364.84,-1183.35 1383.4,-1239.7 1400.07,-1290.29"/>
<polygon fill="none" stroke="black" points="1390.16,-1293.76 1409.52,-1318.96 1410.1,-1287.19 1390.16,-1293.76"/>
</g>
<!-- 6&#45;&gt;11 -->
<g id="edge17" class="edge">
<title>6&#45;&gt;11</title>
<path fill="none" stroke="black" d="M739.96,-1122.82C737.22,-1124.42 734.48,-1126.01 731.75,-1127.6 700.46,-1145.75 687.6,-1141.78 658.75,-1163.6 602.97,-1205.79 549.5,-1260.08 504.35,-1311.61"/>
<polygon fill="black" stroke="black" points="501.68,-1309.35 497.75,-1319.19 506.96,-1313.94 501.68,-1309.35"/>
</g>
<!-- 6&#45;&gt;12 -->
<g id="edge18" class="edge">
<title>6&#45;&gt;12</title>
<path fill="none" stroke="black" d="M739.89,-1126.53C715.27,-1145.13 699.46,-1158.4 696.75,-1163.6 629.38,-1292.7 679.21,-1740.54 701.48,-1912.1"/>
<polygon fill="black" stroke="black" points="698.01,-1912.56 702.77,-1922.02 704.95,-1911.65 698.01,-1912.56"/>
</g>
<!-- 6&#45;&gt;31 -->
<g id="edge19" class="edge">
<title>6&#45;&gt;31</title>
<path fill="none" stroke="black" d="M1729.57,-850.69C2349.08,-926.49 3443.3,-1053.61 4383.75,-1127.6 4463.93,-1133.91 5036.85,-1123.8 5106.75,-1163.6 5215.58,-1225.58 5278.01,-1370.59 5302.54,-1439.64"/>
<polygon fill="black" stroke="black" points="5299.29,-1440.97 5305.88,-1449.26 5305.9,-1438.67 5299.29,-1440.97"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="black" points="576.89,-67.7 576.89,-343.7 1892.61,-343.7 1892.61,-67.7 576.89,-67.7"/>
<text text-anchor="middle" x="1234.75" y="-327.1" font-family="Times,serif" font-size="14.00">VieTokenPoolHookDeployer</text>
<text text-anchor="middle" x="1234.75" y="-310.3" font-family="Times,serif" font-size="14.00">contracts/coin/VieTokenPoolHookDeployer.sol</text>
<polyline fill="none" stroke="black" points="576.89,-302.1 1892.61,-302.1 "/>
<text text-anchor="start" x="584.89" y="-285.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="584.89" y="-268.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;FLAG_MASK: uint160</text>
<text text-anchor="start" x="584.89" y="-251.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;MAX_LOOP: uint256</text>
<polyline fill="none" stroke="black" points="576.89,-243.7 1892.61,-243.7 "/>
<text text-anchor="start" x="584.89" y="-227.1" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="584.89" y="-210.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;deploy(_initCode: bytes, _salt: bytes32): (createdContract: address)</text>
<text text-anchor="start" x="584.89" y="-193.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="584.89" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;find(deployer: address, flags: uint160, creationCode: bytes, constructorArgs: bytes, initialSalt: uint256): (address, bytes32)</text>
<text text-anchor="start" x="584.89" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;computeAddress(deployer: address, salt: uint256, creationCodeWithArgs: bytes): (hookAddress: address)</text>
<text text-anchor="start" x="584.89" y="-143.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="584.89" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;deployHook(factory: address, weth: address, vieVault: address, positionManager: address, poolManager: address, platformFeeRecipient: address, permit2: address, salt: bytes32, expectedAddress: address): (hookAddress: address)</text>
<text text-anchor="start" x="584.89" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getSalt(factory: address, weth: address, vieVault: address, positionManager: address, poolManager: address, platformFeeRecipient: address, permit2: address, initialSalt: uint256): (hookAddress: address, salt: bytes32)</text>
<text text-anchor="start" x="584.89" y="-92.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="584.89" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; HookDeployed(hookAddress: address, salt: bytes32, flags: uint160)</text>
</g>
<!-- 7&#45;&gt;6 -->
<g id="edge20" class="edge">
<title>7&#45;&gt;6</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1234.75,-343.74C1234.75,-372.72 1234.75,-404.55 1234.75,-437.44"/>
<polygon fill="black" stroke="black" points="1231.25,-437.68 1234.75,-447.68 1238.25,-437.68 1231.25,-437.68"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="black" points="6403.04,-624.3 6403.04,-950.7 7528.46,-950.7 7528.46,-624.3 6403.04,-624.3"/>
<text text-anchor="middle" x="6965.75" y="-934.1" font-family="Times,serif" font-size="14.00">VieTokenSwapManager</text>
<text text-anchor="middle" x="6965.75" y="-917.3" font-family="Times,serif" font-size="14.00">contracts/coin/VieTokenSwapManager.sol</text>
<polyline fill="none" stroke="black" points="6403.04,-909.1 7528.46,-909.1 "/>
<text text-anchor="start" x="6411.04" y="-892.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="6411.04" y="-875.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;router: IUniversalRouter</text>
<text text-anchor="start" x="6411.04" y="-858.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;poolManager: IPoolManager</text>
<text text-anchor="start" x="6411.04" y="-842.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;permit2: IPermit2</text>
<text text-anchor="start" x="6411.04" y="-825.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;registry: IVieRegistryV1</text>
<text text-anchor="start" x="6411.04" y="-808.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;weth: IWETH9</text>
<polyline fill="none" stroke="black" points="6403.04,-800.3 7528.46,-800.3 "/>
<text text-anchor="start" x="6411.04" y="-783.7" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="6411.04" y="-766.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_swapExactTokenAmountForEth(token: address, exactTokenAmountIn: uint128, minimumEthAmountOut: uint128): (ethOut: uint256)</text>
<text text-anchor="start" x="6411.04" y="-750.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;validateFT(ft: IVieRegistryV1.FT)</text>
<text text-anchor="start" x="6411.04" y="-733.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="6411.04" y="-716.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; swapExactEthAmountForToken(token: address, exactEthAmountIn: uint128, minimumTokenAmountOut: uint128): (tokenAmountOut: uint256) &lt;&lt;nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="6411.04" y="-699.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; null()</text>
<text text-anchor="start" x="6411.04" y="-682.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;swapExactTokenAmountForEth(token: address, exactTokenAmountIn: uint128, minimumEthAmountOut: uint128): (ethOut: uint256) &lt;&lt;nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="6411.04" y="-666.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;swapExactTokenAmountForEthWithPermitSignature(token: address, exactTokenAmountIn: uint128, minimumEthAmountOut: uint128, sig: PermitSignaturePayload): uint256 &lt;&lt;nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="6411.04" y="-649.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="6411.04" y="-632.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_router: address, _poolManager: address, _permit2: address, _registry: address, _weth: address)</text>
</g>
<!-- 8&#45;&gt;18 -->
<g id="edge22" class="edge">
<title>8&#45;&gt;18</title>
<path fill="none" stroke="black" d="M6965.75,-950.91C6965.75,-1100.92 6965.75,-1315.57 6965.75,-1418.3"/>
<polygon fill="black" stroke="black" points="6962.25,-1418.48 6965.75,-1428.48 6969.25,-1418.48 6962.25,-1418.48"/>
</g>
<!-- 8&#45;&gt;20 -->
<g id="edge21" class="edge">
<title>8&#45;&gt;20</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M7154.8,-950.91C7303.83,-1078.95 7507.68,-1254.08 7638.56,-1366.51"/>
<polygon fill="none" stroke="black" points="7632.12,-1374.82 7661.71,-1386.41 7645.8,-1358.89 7632.12,-1374.82"/>
</g>
<!-- 22 -->
<g id="node15" class="node">
<title>22</title>
<polygon fill="#f2f2f2" stroke="black" points="6407.39,-1243.7 6407.39,-1713.3 6722.1,-1713.3 6722.1,-1243.7 6407.39,-1243.7"/>
<text text-anchor="middle" x="6564.75" y="-1696.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="6564.75" y="-1679.9" font-family="Times,serif" font-size="14.00">Commands</text>
<text text-anchor="middle" x="6564.75" y="-1663.1" font-family="Times,serif" font-size="14.00">contracts/coin/libraries/Commands.sol</text>
<polyline fill="none" stroke="black" points="6407.39,-1654.9 6722.1,-1654.9 "/>
<text text-anchor="start" x="6415.39" y="-1638.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="6415.39" y="-1621.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;FLAG_ALLOW_REVERT: bytes1</text>
<text text-anchor="start" x="6415.39" y="-1604.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;COMMAND_TYPE_MASK: bytes1</text>
<text text-anchor="start" x="6415.39" y="-1587.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="6415.39" y="-1571.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;V3_SWAP_EXACT_IN: uint256</text>
<text text-anchor="start" x="6415.39" y="-1554.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;V3_SWAP_EXACT_OUT: uint256</text>
<text text-anchor="start" x="6415.39" y="-1537.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;PERMIT2_TRANSFER_FROM: uint256</text>
<text text-anchor="start" x="6415.39" y="-1520.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;PERMIT2_PERMIT_BATCH: uint256</text>
<text text-anchor="start" x="6415.39" y="-1503.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;SWEEP: uint256</text>
<text text-anchor="start" x="6415.39" y="-1487.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;TRANSFER: uint256</text>
<text text-anchor="start" x="6415.39" y="-1470.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;PAY_PORTION: uint256</text>
<text text-anchor="start" x="6415.39" y="-1453.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;V2_SWAP_EXACT_IN: uint256</text>
<text text-anchor="start" x="6415.39" y="-1436.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;V2_SWAP_EXACT_OUT: uint256</text>
<text text-anchor="start" x="6415.39" y="-1419.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;PERMIT2_PERMIT: uint256</text>
<text text-anchor="start" x="6415.39" y="-1403.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;WRAP_ETH: uint256</text>
<text text-anchor="start" x="6415.39" y="-1386.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;UNWRAP_WETH: uint256</text>
<text text-anchor="start" x="6415.39" y="-1369.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;PERMIT2_TRANSFER_FROM_BATCH: uint256</text>
<text text-anchor="start" x="6415.39" y="-1352.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;BALANCE_CHECK_ERC20: uint256</text>
<text text-anchor="start" x="6415.39" y="-1335.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;V4_SWAP: uint256</text>
<text text-anchor="start" x="6415.39" y="-1319.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;V3_POSITION_MANAGER_PERMIT: uint256</text>
<text text-anchor="start" x="6415.39" y="-1302.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;V3_POSITION_MANAGER_CALL: uint256</text>
<text text-anchor="start" x="6415.39" y="-1285.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;V4_INITIALIZE_POOL: uint256</text>
<text text-anchor="start" x="6415.39" y="-1268.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;V4_POSITION_MANAGER_CALL: uint256</text>
<text text-anchor="start" x="6415.39" y="-1251.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;EXECUTE_SUB_PLAN: uint256</text>
</g>
<!-- 8&#45;&gt;22 -->
<g id="edge27" class="edge">
<title>8&#45;&gt;22</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6863.72,-950.81C6823.13,-1016.43 6776.48,-1093.18 6735.75,-1163.6 6722.46,-1186.56 6708.85,-1210.61 6695.38,-1234.74"/>
<polygon fill="black" stroke="black" points="6692.24,-1233.19 6690.43,-1243.63 6698.35,-1236.6 6692.24,-1233.19"/>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge24" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="black" d="M6696.36,-950.73C6599.46,-1013.17 6491.3,-1087.77 6398.75,-1163.6 6324.79,-1224.2 6249.01,-1300.06 6190.66,-1362.02"/>
<polygon fill="black" stroke="black" points="6187.92,-1359.82 6183.63,-1369.51 6193.02,-1364.61 6187.92,-1359.82"/>
</g>
<!-- 10 -->
<g id="node17" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="black" points="5980.76,-1922.3 5980.76,-2039.1 6218.74,-2039.1 6218.74,-1922.3 5980.76,-1922.3"/>
<text text-anchor="middle" x="6099.75" y="-2022.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="6099.75" y="-2005.7" font-family="Times,serif" font-size="14.00">FT</text>
<text text-anchor="middle" x="6099.75" y="-1988.9" font-family="Times,serif" font-size="14.00">contracts/interfaces/IVieRegistryV1.sol</text>
<polyline fill="none" stroke="black" points="5980.76,-1980.7 6218.74,-1980.7 "/>
<text text-anchor="start" x="5988.76" y="-1964.1" font-family="Times,serif" font-size="14.00">tokenAddress: address</text>
<text text-anchor="start" x="5988.76" y="-1947.3" font-family="Times,serif" font-size="14.00">poolKey: PoolKey</text>
<text text-anchor="start" x="5988.76" y="-1930.5" font-family="Times,serif" font-size="14.00">poolId: bytes32</text>
</g>
<!-- 8&#45;&gt;10 -->
<g id="edge26" class="edge">
<title>8&#45;&gt;10</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6861.34,-950.71C6825.49,-1014.55 6789.25,-1090.09 6768.75,-1163.6 6749.92,-1231.13 6774.39,-1738.54 6730.75,-1793.4 6668.37,-1871.82 6395.1,-1930.26 6229.32,-1959.27"/>
<polygon fill="black" stroke="black" points="6228.3,-1955.89 6219.05,-1961.05 6229.5,-1962.79 6228.3,-1955.89"/>
</g>
<!-- 8&#45;&gt;12 -->
<g id="edge25" class="edge">
<title>8&#45;&gt;12</title>
<path fill="none" stroke="black" d="M6753.38,-950.9C6650.61,-1019.58 6521.91,-1091.87 6393.75,-1127.6 6338.06,-1143.12 2273.67,-1123.79 2231.75,-1163.6 2130.08,-1260.15 2289.63,-1691.1 2193.75,-1793.4 2099.92,-1893.5 1148.92,-1955.36 821.11,-1973.84"/>
<polygon fill="black" stroke="black" points="820.92,-1970.35 811.13,-1974.4 821.31,-1977.34 820.92,-1970.35"/>
</g>
<!-- 8&#45;&gt;31 -->
<g id="edge23" class="edge">
<title>8&#45;&gt;31</title>
<path fill="none" stroke="black" d="M6750.55,-950.75C6648.06,-1018.62 6520.4,-1090.28 6393.75,-1127.6 6292.74,-1157.36 5533.33,-1103.68 5446.75,-1163.6 5354.04,-1227.76 5326.2,-1370.53 5318.04,-1439.18"/>
<polygon fill="black" stroke="black" points="5314.55,-1438.82 5316.93,-1449.15 5321.51,-1439.6 5314.55,-1438.82"/>
</g>
<!-- 17 -->
<g id="node10" class="node">
<title>17</title>
<polygon fill="#f2f2f2" stroke="black" points="7732.81,-155.7 7732.81,-255.7 8364.69,-255.7 8364.69,-155.7 7732.81,-155.7"/>
<text text-anchor="middle" x="8048.75" y="-239.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="8048.75" y="-222.3" font-family="Times,serif" font-size="14.00">IERC20Permit</text>
<text text-anchor="middle" x="8048.75" y="-205.5" font-family="Times,serif" font-size="14.00">contracts/coin/interfaces/IERC20Permit.sol</text>
<polyline fill="none" stroke="black" points="7732.81,-197.3 8364.69,-197.3 "/>
<text text-anchor="start" x="7740.81" y="-180.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="7740.81" y="-163.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;permit(owner: address, spender: address, value: uint256, deadline: uint256, v: uint8, r: bytes32, s: bytes32)</text>
</g>
<!-- 19&#45;&gt;12 -->
<g id="edge28" class="edge">
<title>19&#45;&gt;12</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1224.13,-1637.77C1082.29,-1732.24 909.98,-1847 805.42,-1916.64"/>
<polygon fill="black" stroke="black" points="803.46,-1913.74 797.08,-1922.2 807.34,-1919.57 803.46,-1913.74"/>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge30" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M7762.4,-1570.66C7760.42,-1666.17 7760.54,-1814.48 7762.74,-1903.83"/>
<polygon fill="black" stroke="black" points="7759.24,-1903.99 7763.01,-1913.89 7766.24,-1903.8 7759.24,-1903.99"/>
</g>
<!-- 21&#45;&gt;20 -->
<g id="edge29" class="edge">
<title>21&#45;&gt;20</title>
<path fill="none" stroke="black" d="M7772.49,-1913.89C7774.85,-1829.51 7775.13,-1682.25 7773.34,-1582.84"/>
<polygon fill="black" stroke="black" points="7773.33,-1582.66 7769.22,-1576.74 7773.1,-1570.66 7777.22,-1576.58 7773.33,-1582.66"/>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge32" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6083.89,-1587.42C6084.76,-1685.98 6088.76,-1828.66 6093.2,-1912.03"/>
<polygon fill="black" stroke="black" points="6089.71,-1912.35 6093.75,-1922.14 6096.7,-1911.97 6089.71,-1912.35"/>
</g>
<!-- 10&#45;&gt;9 -->
<g id="edge31" class="edge">
<title>10&#45;&gt;9</title>
<path fill="none" stroke="black" d="M6102.75,-1922.14C6103.16,-1843.82 6099.92,-1701.75 6095.74,-1599.66"/>
<polygon fill="black" stroke="black" points="6095.73,-1599.41 6091.48,-1593.58 6095.22,-1587.42 6099.47,-1593.25 6095.73,-1599.41"/>
</g>
<!-- 23 -->
<g id="node20" class="node">
<title>23</title>
<polygon fill="#f2f2f2" stroke="black" points="5259,-1829.9 5259,-2131.5 5962.5,-2131.5 5962.5,-1829.9 5259,-1829.9"/>
<text text-anchor="middle" x="5610.75" y="-2114.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="5610.75" y="-2098.1" font-family="Times,serif" font-size="14.00">IAllowanceTransfer</text>
<text text-anchor="middle" x="5610.75" y="-2081.3" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/IAllowanceTransfer.sol</text>
<polyline fill="none" stroke="black" points="5259,-2073.1 5962.5,-2073.1 "/>
<text text-anchor="start" x="5267" y="-2056.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="5267" y="-2039.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;allowance(user: address, token: address, spender: address): (amount: uint160, expiration: uint48, nonce: uint48)</text>
<text text-anchor="start" x="5267" y="-2022.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;approve(token: address, spender: address, amount: uint160, expiration: uint48)</text>
<text text-anchor="start" x="5267" y="-2006.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;permit(owner: address, permitSingle: PermitSingle, signature: bytes)</text>
<text text-anchor="start" x="5267" y="-1989.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;permit(owner: address, permitBatch: PermitBatch, signature: bytes)</text>
<text text-anchor="start" x="5267" y="-1972.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;transferFrom(from: address, to: address, amount: uint160, token: address)</text>
<text text-anchor="start" x="5267" y="-1955.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;transferFrom(transferDetails: AllowanceTransferDetails[])</text>
<text text-anchor="start" x="5267" y="-1938.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;lockdown(approvals: TokenSpenderPair[])</text>
<text text-anchor="start" x="5267" y="-1922.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;invalidateNonces(token: address, spender: address, newNonce: uint48)</text>
<text text-anchor="start" x="5267" y="-1905.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="5267" y="-1888.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; NonceInvalidation(owner: address, token: address, spender: address, newNonce: uint48, oldNonce: uint48)</text>
<text text-anchor="start" x="5267" y="-1871.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Approval(owner: address, token: address, spender: address, amount: uint160, expiration: uint48)</text>
<text text-anchor="start" x="5267" y="-1854.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Permit(owner: address, token: address, spender: address, amount: uint160, expiration: uint48, nonce: uint48)</text>
<text text-anchor="start" x="5267" y="-1838.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Lockdown(owner: address, token: address, spender: address)</text>
</g>
<!-- 25 -->
<g id="node22" class="node">
<title>25</title>
<polygon fill="#f2f2f2" stroke="black" points="6155.63,-2185.3 6155.63,-2302.1 6465.87,-2302.1 6465.87,-2185.3 6155.63,-2185.3"/>
<text text-anchor="middle" x="6310.75" y="-2285.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="6310.75" y="-2268.7" font-family="Times,serif" font-size="14.00">PermitSingle</text>
<text text-anchor="middle" x="6310.75" y="-2251.9" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/IAllowanceTransfer.sol</text>
<polyline fill="none" stroke="black" points="6155.63,-2243.7 6465.87,-2243.7 "/>
<text text-anchor="start" x="6163.63" y="-2227.1" font-family="Times,serif" font-size="14.00">details: PermitDetails</text>
<text text-anchor="start" x="6163.63" y="-2210.3" font-family="Times,serif" font-size="14.00">spender: address</text>
<text text-anchor="start" x="6163.63" y="-2193.5" font-family="Times,serif" font-size="14.00">sigDeadline: uint256</text>
</g>
<!-- 23&#45;&gt;25 -->
<g id="edge40" class="edge">
<title>23&#45;&gt;25</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5961.29,-2131.55C5961.78,-2131.7 5962.26,-2131.85 5962.75,-2132 6036.49,-2154.94 6059.26,-2144.26 6132.75,-2168 6145.03,-2171.97 6157.63,-2176.53 6170.18,-2181.41"/>
<polygon fill="black" stroke="black" points="6169.17,-2184.78 6179.75,-2185.2 6171.74,-2178.27 6169.17,-2184.78"/>
</g>
<!-- 26 -->
<g id="node23" class="node">
<title>26</title>
<polygon fill="#f2f2f2" stroke="black" points="5789.63,-2185.3 5789.63,-2302.1 6099.87,-2302.1 6099.87,-2185.3 5789.63,-2185.3"/>
<text text-anchor="middle" x="5944.75" y="-2285.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="5944.75" y="-2268.7" font-family="Times,serif" font-size="14.00">PermitBatch</text>
<text text-anchor="middle" x="5944.75" y="-2251.9" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/IAllowanceTransfer.sol</text>
<polyline fill="none" stroke="black" points="5789.63,-2243.7 6099.87,-2243.7 "/>
<text text-anchor="start" x="5797.63" y="-2227.1" font-family="Times,serif" font-size="14.00">details: PermitDetails[]</text>
<text text-anchor="start" x="5797.63" y="-2210.3" font-family="Times,serif" font-size="14.00">spender: address</text>
<text text-anchor="start" x="5797.63" y="-2193.5" font-family="Times,serif" font-size="14.00">sigDeadline: uint256</text>
</g>
<!-- 23&#45;&gt;26 -->
<g id="edge41" class="edge">
<title>23&#45;&gt;26</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5795.94,-2131.63C5817.29,-2148.24 5838.25,-2164.41 5857.39,-2179.04"/>
<polygon fill="black" stroke="black" points="5855.41,-2181.93 5865.48,-2185.22 5859.66,-2176.37 5855.41,-2181.93"/>
</g>
<!-- 28 -->
<g id="node25" class="node">
<title>28</title>
<polygon fill="#f2f2f2" stroke="black" points="5133.63,-2193.7 5133.63,-2293.7 5443.87,-2293.7 5443.87,-2193.7 5133.63,-2193.7"/>
<text text-anchor="middle" x="5288.75" y="-2277.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="5288.75" y="-2260.3" font-family="Times,serif" font-size="14.00">TokenSpenderPair</text>
<text text-anchor="middle" x="5288.75" y="-2243.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/IAllowanceTransfer.sol</text>
<polyline fill="none" stroke="black" points="5133.63,-2235.3 5443.87,-2235.3 "/>
<text text-anchor="start" x="5141.63" y="-2218.7" font-family="Times,serif" font-size="14.00">token: address</text>
<text text-anchor="start" x="5141.63" y="-2201.9" font-family="Times,serif" font-size="14.00">spender: address</text>
</g>
<!-- 23&#45;&gt;28 -->
<g id="edge43" class="edge">
<title>23&#45;&gt;28</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5419.09,-2131.63C5394.97,-2151.29 5371.81,-2170.35 5351.86,-2186.96"/>
<polygon fill="black" stroke="black" points="5349.53,-2184.35 5344.09,-2193.45 5354.01,-2189.73 5349.53,-2184.35"/>
</g>
<!-- 29 -->
<g id="node26" class="node">
<title>29</title>
<polygon fill="#f2f2f2" stroke="black" points="5461.63,-2176.9 5461.63,-2310.5 5771.87,-2310.5 5771.87,-2176.9 5461.63,-2176.9"/>
<text text-anchor="middle" x="5616.75" y="-2293.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="5616.75" y="-2277.1" font-family="Times,serif" font-size="14.00">AllowanceTransferDetails</text>
<text text-anchor="middle" x="5616.75" y="-2260.3" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/IAllowanceTransfer.sol</text>
<polyline fill="none" stroke="black" points="5461.63,-2252.1 5771.87,-2252.1 "/>
<text text-anchor="start" x="5469.63" y="-2235.5" font-family="Times,serif" font-size="14.00">from: address</text>
<text text-anchor="start" x="5469.63" y="-2218.7" font-family="Times,serif" font-size="14.00">to: address</text>
<text text-anchor="start" x="5469.63" y="-2201.9" font-family="Times,serif" font-size="14.00">amount: uint160</text>
<text text-anchor="start" x="5469.63" y="-2185.1" font-family="Times,serif" font-size="14.00">token: address</text>
</g>
<!-- 23&#45;&gt;29 -->
<g id="edge42" class="edge">
<title>23&#45;&gt;29</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5607.51,-2131.63C5607.87,-2143.72 5608.31,-2155.59 5608.81,-2166.79"/>
<polygon fill="black" stroke="black" points="5605.32,-2167.07 5609.28,-2176.89 5612.31,-2166.74 5605.32,-2167.07"/>
</g>
<!-- 30 -->
<g id="node27" class="node">
<title>30</title>
<polygon fill="#f2f2f2" stroke="black" points="4871.65,-2193.7 4871.65,-2293.7 5115.84,-2293.7 5115.84,-2193.7 4871.65,-2193.7"/>
<text text-anchor="middle" x="4993.75" y="-2277.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="4993.75" y="-2260.3" font-family="Times,serif" font-size="14.00">IEIP712</text>
<text text-anchor="middle" x="4993.75" y="-2243.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/IEIP712.sol</text>
<polyline fill="none" stroke="black" points="4871.65,-2235.3 5115.84,-2235.3 "/>
<text text-anchor="start" x="4879.65" y="-2218.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="4879.65" y="-2201.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;DOMAIN_SEPARATOR(): bytes32</text>
</g>
<!-- 23&#45;&gt;30 -->
<g id="edge39" class="edge">
<title>23&#45;&gt;30</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5258.91,-2128.76C5255.85,-2129.85 5252.79,-2130.93 5249.75,-2132 5195.2,-2151.14 5178.01,-2145.52 5124.75,-2168 5116.53,-2171.47 5108.18,-2175.34 5099.87,-2179.44"/>
<polygon fill="none" stroke="black" points="5094.62,-2170.34 5072.93,-2193.57 5104.37,-2188.94 5094.62,-2170.34"/>
</g>
<!-- 24 -->
<g id="node21" class="node">
<title>24</title>
<polygon fill="#f2f2f2" stroke="black" points="5972.63,-2355.9 5972.63,-2489.5 6282.87,-2489.5 6282.87,-2355.9 5972.63,-2355.9"/>
<text text-anchor="middle" x="6127.75" y="-2472.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="6127.75" y="-2456.1" font-family="Times,serif" font-size="14.00">PermitDetails</text>
<text text-anchor="middle" x="6127.75" y="-2439.3" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/IAllowanceTransfer.sol</text>
<polyline fill="none" stroke="black" points="5972.63,-2431.1 6282.87,-2431.1 "/>
<text text-anchor="start" x="5980.63" y="-2414.5" font-family="Times,serif" font-size="14.00">token: address</text>
<text text-anchor="start" x="5980.63" y="-2397.7" font-family="Times,serif" font-size="14.00">amount: uint160</text>
<text text-anchor="start" x="5980.63" y="-2380.9" font-family="Times,serif" font-size="14.00">expiration: uint48</text>
<text text-anchor="start" x="5980.63" y="-2364.1" font-family="Times,serif" font-size="14.00">nonce: uint48</text>
</g>
<!-- 24&#45;&gt;23 -->
<g id="edge33" class="edge">
<title>24&#45;&gt;23</title>
<path fill="none" stroke="black" d="M6142.16,-2355.65C6150.35,-2299.36 6151.71,-2219.59 6108.75,-2168 6070.83,-2122.45 6035.75,-2148.61 5974.33,-2132.41"/>
<polygon fill="black" stroke="black" points="5974.04,-2132.32 5967.14,-2134.42 5962.55,-2128.86 5969.45,-2126.76 5974.04,-2132.32"/>
</g>
<!-- 25&#45;&gt;23 -->
<g id="edge34" class="edge">
<title>25&#45;&gt;23</title>
<path fill="none" stroke="black" d="M6197.61,-2185.2C6182.07,-2178.9 6166.16,-2172.98 6150.75,-2168 6077.26,-2144.26 6054.49,-2154.94 5980.75,-2132 5978.59,-2131.33 5976.43,-2130.65 5974.27,-2129.97"/>
<polygon fill="black" stroke="black" points="5974.08,-2129.9 5967.14,-2131.87 5962.66,-2126.23 5969.59,-2124.26 5974.08,-2129.9"/>
</g>
<!-- 25&#45;&gt;24 -->
<g id="edge44" class="edge">
<title>25&#45;&gt;24</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6251.33,-2302.17C6236.04,-2316.96 6219.37,-2333.08 6203.38,-2348.55"/>
<polygon fill="black" stroke="black" points="6200.84,-2346.14 6196.08,-2355.61 6205.7,-2351.17 6200.84,-2346.14"/>
</g>
<!-- 26&#45;&gt;23 -->
<g id="edge35" class="edge">
<title>26&#45;&gt;23</title>
<path fill="none" stroke="black" d="M5876.89,-2185.22C5859.37,-2171.17 5839.57,-2155.46 5818.87,-2139.16"/>
<polygon fill="black" stroke="black" points="5818.73,-2139.05 5811.54,-2138.49 5809.3,-2131.63 5816.49,-2132.2 5818.73,-2139.05"/>
</g>
<!-- 26&#45;&gt;24 -->
<g id="edge45" class="edge">
<title>26&#45;&gt;24</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6004.16,-2302.17C6019.46,-2316.96 6036.12,-2333.08 6052.12,-2348.55"/>
<polygon fill="black" stroke="black" points="6049.79,-2351.17 6059.42,-2355.61 6054.66,-2346.14 6049.79,-2351.17"/>
</g>
<!-- 27 -->
<g id="node24" class="node">
<title>27</title>
<polygon fill="#f2f2f2" stroke="black" points="5455.63,-1420.1 5455.63,-1536.9 5765.87,-1536.9 5765.87,-1420.1 5455.63,-1420.1"/>
<text text-anchor="middle" x="5610.75" y="-1520.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="5610.75" y="-1503.5" font-family="Times,serif" font-size="14.00">PackedAllowance</text>
<text text-anchor="middle" x="5610.75" y="-1486.7" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/IAllowanceTransfer.sol</text>
<polyline fill="none" stroke="black" points="5455.63,-1478.5 5765.87,-1478.5 "/>
<text text-anchor="start" x="5463.63" y="-1461.9" font-family="Times,serif" font-size="14.00">amount: uint160</text>
<text text-anchor="start" x="5463.63" y="-1445.1" font-family="Times,serif" font-size="14.00">expiration: uint48</text>
<text text-anchor="start" x="5463.63" y="-1428.3" font-family="Times,serif" font-size="14.00">nonce: uint48</text>
</g>
<!-- 27&#45;&gt;23 -->
<g id="edge36" class="edge">
<title>27&#45;&gt;23</title>
<path fill="none" stroke="black" d="M5610.75,-1537.37C5610.75,-1605.43 5610.75,-1721.34 5610.75,-1817.42"/>
<polygon fill="black" stroke="black" points="5610.75,-1817.64 5614.75,-1823.64 5610.75,-1829.64 5606.75,-1823.64 5610.75,-1817.64"/>
</g>
<!-- 28&#45;&gt;23 -->
<g id="edge37" class="edge">
<title>28&#45;&gt;23</title>
<path fill="none" stroke="black" d="M5354.93,-2193.45C5375.29,-2177.44 5398.78,-2158.73 5423.1,-2139.17"/>
<polygon fill="black" stroke="black" points="5423.11,-2139.16 5425.27,-2132.28 5432.46,-2131.63 5430.29,-2138.51 5423.11,-2139.16"/>
</g>
<!-- 29&#45;&gt;23 -->
<g id="edge38" class="edge">
<title>29&#45;&gt;23</title>
<path fill="none" stroke="black" d="M5621.19,-2176.89C5621.23,-2166.45 5621.18,-2155.28 5621.05,-2143.75"/>
<polygon fill="black" stroke="black" points="5621.04,-2143.63 5616.96,-2137.69 5620.88,-2131.63 5624.96,-2137.58 5621.04,-2143.63"/>
</g>
<!-- 31&#45;&gt;23 -->
<g id="edge47" class="edge">
<title>31&#45;&gt;23</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5323.23,-1507.84C5340.98,-1564.72 5385.52,-1695.72 5446.75,-1793.4 5449.2,-1797.32 5451.74,-1801.23 5454.35,-1805.14"/>
<polygon fill="none" stroke="black" points="5445.93,-1811.41 5471.81,-1829.85 5463.08,-1799.29 5445.93,-1811.41"/>
</g>
<!-- 32 -->
<g id="node29" class="node">
<title>32</title>
<polygon fill="#f2f2f2" stroke="black" points="4162.46,-1871.9 4162.46,-2089.5 5241.04,-2089.5 5241.04,-1871.9 4162.46,-1871.9"/>
<text text-anchor="middle" x="4701.75" y="-2072.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="4701.75" y="-2056.1" font-family="Times,serif" font-size="14.00">ISignatureTransfer</text>
<text text-anchor="middle" x="4701.75" y="-2039.3" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/ISignatureTransfer.sol</text>
<polyline fill="none" stroke="black" points="4162.46,-2031.1 5241.04,-2031.1 "/>
<text text-anchor="start" x="4170.46" y="-2014.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="4170.46" y="-1997.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;nonceBitmap(address, uint256): uint256</text>
<text text-anchor="start" x="4170.46" y="-1980.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;permitTransferFrom(permit: PermitTransferFrom, transferDetails: SignatureTransferDetails, owner: address, signature: bytes)</text>
<text text-anchor="start" x="4170.46" y="-1964.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;permitWitnessTransferFrom(permit: PermitTransferFrom, transferDetails: SignatureTransferDetails, owner: address, witness: bytes32, witnessTypeString: string, signature: bytes)</text>
<text text-anchor="start" x="4170.46" y="-1947.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;permitTransferFrom(permit: PermitBatchTransferFrom, transferDetails: SignatureTransferDetails[], owner: address, signature: bytes)</text>
<text text-anchor="start" x="4170.46" y="-1930.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;permitWitnessTransferFrom(permit: PermitBatchTransferFrom, transferDetails: SignatureTransferDetails[], owner: address, witness: bytes32, witnessTypeString: string, signature: bytes)</text>
<text text-anchor="start" x="4170.46" y="-1913.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;invalidateUnorderedNonces(wordPos: uint256, mask: uint256)</text>
<text text-anchor="start" x="4170.46" y="-1896.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="4170.46" y="-1880.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; UnorderedNonceInvalidation(owner: address, word: uint256, mask: uint256)</text>
</g>
<!-- 31&#45;&gt;32 -->
<g id="edge46" class="edge">
<title>31&#45;&gt;32</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5309.9,-1507.97C5298.14,-1568.63 5262.58,-1711.77 5177.75,-1793.4 5152.83,-1817.38 5124.47,-1838.37 5094.3,-1856.73"/>
<polygon fill="none" stroke="black" points="5088.74,-1847.82 5067.96,-1871.87 5099.2,-1866.02 5088.74,-1847.82"/>
</g>
<!-- 32&#45;&gt;30 -->
<g id="edge52" class="edge">
<title>32&#45;&gt;30</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4822.62,-2089.74C4854.28,-2118.04 4887.57,-2147.79 4916.28,-2173.45"/>
<polygon fill="none" stroke="black" points="4909.33,-2181.33 4938.69,-2193.49 4923.32,-2165.67 4909.33,-2181.33"/>
</g>
<!-- 34 -->
<g id="node31" class="node">
<title>34</title>
<polygon fill="#f2f2f2" stroke="black" points="4550.12,-2185.3 4550.12,-2302.1 4853.38,-2302.1 4853.38,-2185.3 4550.12,-2185.3"/>
<text text-anchor="middle" x="4701.75" y="-2285.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="4701.75" y="-2268.7" font-family="Times,serif" font-size="14.00">PermitTransferFrom</text>
<text text-anchor="middle" x="4701.75" y="-2251.9" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/ISignatureTransfer.sol</text>
<polyline fill="none" stroke="black" points="4550.12,-2243.7 4853.38,-2243.7 "/>
<text text-anchor="start" x="4558.12" y="-2227.1" font-family="Times,serif" font-size="14.00">permitted: TokenPermissions</text>
<text text-anchor="start" x="4558.12" y="-2210.3" font-family="Times,serif" font-size="14.00">nonce: uint256</text>
<text text-anchor="start" x="4558.12" y="-2193.5" font-family="Times,serif" font-size="14.00">deadline: uint256</text>
</g>
<!-- 32&#45;&gt;34 -->
<g id="edge53" class="edge">
<title>32&#45;&gt;34</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4695.09,-2089.74C4694.86,-2118.59 4695.08,-2148.95 4695.75,-2174.94"/>
<polygon fill="black" stroke="black" points="4692.25,-2175.16 4696.04,-2185.05 4699.25,-2174.95 4692.25,-2175.16"/>
</g>
<!-- 35 -->
<g id="node32" class="node">
<title>35</title>
<polygon fill="#f2f2f2" stroke="black" points="3869.12,-2193.7 3869.12,-2293.7 4172.38,-2293.7 4172.38,-2193.7 3869.12,-2193.7"/>
<text text-anchor="middle" x="4020.75" y="-2277.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="4020.75" y="-2260.3" font-family="Times,serif" font-size="14.00">SignatureTransferDetails</text>
<text text-anchor="middle" x="4020.75" y="-2243.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/ISignatureTransfer.sol</text>
<polyline fill="none" stroke="black" points="3869.12,-2235.3 4172.38,-2235.3 "/>
<text text-anchor="start" x="3877.12" y="-2218.7" font-family="Times,serif" font-size="14.00">to: address</text>
<text text-anchor="start" x="3877.12" y="-2201.9" font-family="Times,serif" font-size="14.00">requestedAmount: uint256</text>
</g>
<!-- 32&#45;&gt;35 -->
<g id="edge54" class="edge">
<title>32&#45;&gt;35</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4376.39,-2089.56C4308.28,-2114.18 4237.27,-2141.06 4171.75,-2168 4155.75,-2174.58 4139.03,-2181.89 4122.78,-2189.28"/>
<polygon fill="black" stroke="black" points="4120.91,-2186.29 4113.28,-2193.64 4123.83,-2192.65 4120.91,-2186.29"/>
</g>
<!-- 36 -->
<g id="node33" class="node">
<title>36</title>
<polygon fill="#f2f2f2" stroke="black" points="4190.12,-2185.3 4190.12,-2302.1 4493.38,-2302.1 4493.38,-2185.3 4190.12,-2185.3"/>
<text text-anchor="middle" x="4341.75" y="-2285.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="4341.75" y="-2268.7" font-family="Times,serif" font-size="14.00">PermitBatchTransferFrom</text>
<text text-anchor="middle" x="4341.75" y="-2251.9" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/ISignatureTransfer.sol</text>
<polyline fill="none" stroke="black" points="4190.12,-2243.7 4493.38,-2243.7 "/>
<text text-anchor="start" x="4198.12" y="-2227.1" font-family="Times,serif" font-size="14.00">permitted: TokenPermissions[]</text>
<text text-anchor="start" x="4198.12" y="-2210.3" font-family="Times,serif" font-size="14.00">nonce: uint256</text>
<text text-anchor="start" x="4198.12" y="-2193.5" font-family="Times,serif" font-size="14.00">deadline: uint256</text>
</g>
<!-- 32&#45;&gt;36 -->
<g id="edge55" class="edge">
<title>32&#45;&gt;36</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4546.33,-2089.55C4504.15,-2119.95 4460.14,-2152.04 4423.79,-2178.95"/>
<polygon fill="black" stroke="black" points="4421.62,-2176.2 4415.67,-2184.96 4425.79,-2181.82 4421.62,-2176.2"/>
</g>
<!-- 33 -->
<g id="node30" class="node">
<title>33</title>
<polygon fill="#f2f2f2" stroke="black" points="4370.12,-2372.7 4370.12,-2472.7 4673.38,-2472.7 4673.38,-2372.7 4370.12,-2372.7"/>
<text text-anchor="middle" x="4521.75" y="-2456.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="4521.75" y="-2439.3" font-family="Times,serif" font-size="14.00">TokenPermissions</text>
<text text-anchor="middle" x="4521.75" y="-2422.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/external/ISignatureTransfer.sol</text>
<polyline fill="none" stroke="black" points="4370.12,-2414.3 4673.38,-2414.3 "/>
<text text-anchor="start" x="4378.12" y="-2397.7" font-family="Times,serif" font-size="14.00">token: address</text>
<text text-anchor="start" x="4378.12" y="-2380.9" font-family="Times,serif" font-size="14.00">amount: uint256</text>
</g>
<!-- 33&#45;&gt;32 -->
<g id="edge48" class="edge">
<title>33&#45;&gt;32</title>
<path fill="none" stroke="black" d="M4516.55,-2372.39C4512.98,-2319.68 4513.05,-2234.69 4540.75,-2168 4550.77,-2143.86 4565.19,-2120.63 4581.34,-2099.25"/>
<polygon fill="black" stroke="black" points="4581.5,-2099.03 4582.03,-2091.84 4588.87,-2089.56 4588.34,-2096.75 4581.5,-2099.03"/>
</g>
<!-- 34&#45;&gt;32 -->
<g id="edge49" class="edge">
<title>34&#45;&gt;32</title>
<path fill="none" stroke="black" d="M4707.46,-2185.05C4708.24,-2160.53 4708.58,-2130.97 4708.48,-2102.07"/>
<polygon fill="black" stroke="black" points="4708.48,-2101.74 4704.44,-2095.77 4708.41,-2089.74 4712.44,-2095.72 4708.48,-2101.74"/>
</g>
<!-- 34&#45;&gt;33 -->
<g id="edge56" class="edge">
<title>34&#45;&gt;33</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4643.31,-2302.17C4622.65,-2322.48 4599.44,-2345.3 4578.89,-2365.51"/>
<polygon fill="black" stroke="black" points="4576.42,-2363.03 4571.74,-2372.54 4581.33,-2368.02 4576.42,-2363.03"/>
</g>
<!-- 35&#45;&gt;32 -->
<g id="edge50" class="edge">
<title>35&#45;&gt;32</title>
<path fill="none" stroke="black" d="M4130.95,-2193.64C4150.44,-2184.78 4170.61,-2175.87 4189.75,-2168 4251.56,-2142.58 4318.25,-2117.22 4382.43,-2093.76"/>
<polygon fill="black" stroke="black" points="4382.69,-2093.67 4386.96,-2087.86 4393.96,-2089.56 4389.7,-2095.37 4382.69,-2093.67"/>
</g>
<!-- 36&#45;&gt;32 -->
<g id="edge51" class="edge">
<title>36&#45;&gt;32</title>
<path fill="none" stroke="black" d="M4426.85,-2185.14C4463.63,-2159.08 4507.79,-2127.31 4549.86,-2096.69"/>
<polygon fill="black" stroke="black" points="4549.94,-2096.62 4552.44,-2089.85 4559.64,-2089.55 4557.15,-2096.32 4549.94,-2096.62"/>
</g>
<!-- 36&#45;&gt;33 -->
<g id="edge57" class="edge">
<title>36&#45;&gt;33</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4400.19,-2302.17C4420.85,-2322.48 4444.05,-2345.3 4464.6,-2365.51"/>
<polygon fill="black" stroke="black" points="4462.17,-2368.02 4471.76,-2372.54 4467.08,-2363.03 4462.17,-2368.02"/>
</g>
<!-- 14 -->
<g id="node35" class="node">
<title>14</title>
<polygon fill="#f2f2f2" stroke="black" points="2631.74,-1922.3 2631.74,-2039.1 2799.76,-2039.1 2799.76,-1922.3 2631.74,-1922.3"/>
<text text-anchor="middle" x="2715.75" y="-2022.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="2715.75" y="-2005.7" font-family="Times,serif" font-size="14.00">TokenDetails</text>
<text text-anchor="middle" x="2715.75" y="-1988.9" font-family="Times,serif" font-size="14.00">contracts/sft/VieSFT.sol</text>
<polyline fill="none" stroke="black" points="2631.74,-1980.7 2799.76,-1980.7 "/>
<text text-anchor="start" x="2639.74" y="-1964.1" font-family="Times,serif" font-size="14.00">maxSupply: uint248</text>
<text text-anchor="start" x="2639.74" y="-1947.3" font-family="Times,serif" font-size="14.00">exists: bool</text>
<text text-anchor="start" x="2639.74" y="-1930.5" font-family="Times,serif" font-size="14.00">overridingTokenUri: string</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge60" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="black" d="M2709.2,-1793.09C2709.48,-1837.61 2710.06,-1879.26 2710.95,-1911.87"/>
<polygon fill="black" stroke="black" points="2707.46,-1912.23 2711.25,-1922.13 2714.46,-1912.03 2707.46,-1912.23"/>
</g>
<!-- 37 -->
<g id="node38" class="node">
<title>37</title>
<polygon fill="#f2f2f2" stroke="black" points="2818.03,-1922.3 2818.03,-2039.1 3243.47,-2039.1 3243.47,-1922.3 2818.03,-1922.3"/>
<text text-anchor="middle" x="3030.75" y="-2022.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3030.75" y="-2005.7" font-family="Times,serif" font-size="14.00">IVieSFTMint</text>
<text text-anchor="middle" x="3030.75" y="-1988.9" font-family="Times,serif" font-size="14.00">contracts/sft/interfaces/IVieSFTMint.sol</text>
<polyline fill="none" stroke="black" points="2818.03,-1980.7 3243.47,-1980.7 "/>
<text text-anchor="start" x="2826.03" y="-1964.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="2826.03" y="-1947.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;mint(to: address, id: uint256, amount: uint256, data: bytes)</text>
<text text-anchor="start" x="2826.03" y="-1930.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;mintBatch(to: address, ids: uint256[], amounts: uint256[], data: bytes)</text>
</g>
<!-- 13&#45;&gt;37 -->
<g id="edge59" class="edge">
<title>13&#45;&gt;37</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2913.23,-1793.09C2937.02,-1830.87 2959.51,-1866.57 2978.32,-1896.45"/>
<polygon fill="none" stroke="black" points="2969.62,-1902.34 2994.49,-1922.13 2987.39,-1891.15 2969.62,-1902.34"/>
</g>
<!-- 13&#45;&gt;38 -->
<g id="edge61" class="edge">
<title>13&#45;&gt;38</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3191.07,-1788.87C3193.97,-1790.39 3196.86,-1791.9 3199.75,-1793.4 3300.6,-1845.72 3419.61,-1893.24 3511.85,-1927.19"/>
<polygon fill="black" stroke="black" points="3510.66,-1930.48 3521.26,-1930.64 3513.07,-1923.91 3510.66,-1930.48"/>
</g>
<!-- 13&#45;&gt;39 -->
<g id="edge62" class="edge">
<title>13&#45;&gt;39</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2574.6,-1793.22C2543.69,-1912.34 2540.97,-2041.07 2622.75,-2132 2680.75,-2196.49 3231.07,-2226.36 3507.24,-2237.38"/>
<polygon fill="black" stroke="black" points="3507.23,-2240.88 3517.36,-2237.78 3507.5,-2233.88 3507.23,-2240.88"/>
</g>
<!-- 14&#45;&gt;13 -->
<g id="edge58" class="edge">
<title>14&#45;&gt;13</title>
<path fill="none" stroke="black" d="M2720.25,-1922.13C2721.22,-1891.02 2721.87,-1849.87 2722.22,-1805.16"/>
<polygon fill="black" stroke="black" points="2722.22,-1805.09 2718.26,-1799.06 2722.3,-1793.09 2726.26,-1799.12 2722.22,-1805.09"/>
</g>
<!-- 15 -->
<g id="node36" class="node">
<title>15</title>
<polygon fill="#f2f2f2" stroke="black" points="8383.18,-164.1 8383.18,-247.3 8734.31,-247.3 8734.31,-164.1 8383.18,-164.1"/>
<text text-anchor="middle" x="8558.75" y="-230.7" font-family="Times,serif" font-size="14.00">VieSFTMintManager</text>
<text text-anchor="middle" x="8558.75" y="-213.9" font-family="Times,serif" font-size="14.00">contracts/sft/VieSFTMintManager.sol</text>
<polyline fill="none" stroke="black" points="8383.18,-205.7 8734.31,-205.7 "/>
<text text-anchor="start" x="8391.18" y="-189.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8391.18" y="-172.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_implementation: address, platform: address)</text>
</g>
<!-- 16 -->
<g id="node37" class="node">
<title>16</title>
<polygon fill="#f2f2f2" stroke="black" points="3209.15,-1306.9 3209.15,-1650.1 4118.35,-1650.1 4118.35,-1306.9 3209.15,-1306.9"/>
<text text-anchor="middle" x="3663.75" y="-1633.5" font-family="Times,serif" font-size="14.00">VieSFTMintManagerV1</text>
<text text-anchor="middle" x="3663.75" y="-1616.7" font-family="Times,serif" font-size="14.00">contracts/sft/VieSFTMintManagerV1.sol</text>
<polyline fill="none" stroke="black" points="3209.15,-1608.5 4118.35,-1608.5 "/>
<text text-anchor="start" x="3217.15" y="-1591.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="3217.15" y="-1575.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;sales: mapping(bytes32=&gt;Sale)</text>
<polyline fill="none" stroke="black" points="3209.15,-1566.9 4118.35,-1566.9 "/>
<text text-anchor="start" x="3217.15" y="-1550.3" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="3217.15" y="-1533.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_isSaleActive(sale: Sale): bool</text>
<text text-anchor="start" x="3217.15" y="-1516.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="3217.15" y="-1499.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_authorizeUpgrade(newImplementation: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="3217.15" y="-1483.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_sendEther(recipient: address, amount: uint256)</text>
<text text-anchor="start" x="3217.15" y="-1466.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="3217.15" y="-1449.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; mintSft(sftContractAddress: address, tokenId: uint256, numToMint: uint256, nftRecipient: address)</text>
<text text-anchor="start" x="3217.15" y="-1432.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createFixedPricePublicSale(sftContractAddress: address, tokenId: uint256, sale: Sale)</text>
<text text-anchor="start" x="3217.15" y="-1415.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getSale(sftContractAddress: address, tokenId: uint256): Sale</text>
<text text-anchor="start" x="3217.15" y="-1399.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isSaleActive(sftContractAddress: address, tokenId: uint256): bool</text>
<text text-anchor="start" x="3217.15" y="-1382.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="3217.15" y="-1365.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SaleCreated(saleId: bytes32, sftContract: address, tokenId: uint256, currency: address, price: uint256, startDate: uint48, endDate: uint48)</text>
<text text-anchor="start" x="3217.15" y="-1348.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TokensMinted(saleId: bytes32, sftContract: address, buyer: address, tokenId: uint256, amount: uint256, totalPaid: uint256, nftRecipient: address)</text>
<text text-anchor="start" x="3217.15" y="-1331.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="3217.15" y="-1315.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(_platform: address) &lt;&lt;initializer&gt;&gt;</text>
</g>
<!-- 16&#45;&gt;37 -->
<g id="edge64" class="edge">
<title>16&#45;&gt;37</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3447.68,-1650.24C3331.79,-1741.81 3195.87,-1849.22 3111.51,-1915.88"/>
<polygon fill="black" stroke="black" points="3109.19,-1913.26 3103.51,-1922.2 3113.53,-1918.75 3109.19,-1913.26"/>
</g>
<!-- 16&#45;&gt;38 -->
<g id="edge63" class="edge">
<title>16&#45;&gt;38</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3663.75,-1650.24C3663.75,-1735 3663.75,-1833.33 3663.75,-1900.35"/>
<polygon fill="none" stroke="black" points="3653.25,-1900.54 3663.75,-1930.54 3674.25,-1900.54 3653.25,-1900.54"/>
</g>
<!-- 38&#45;&gt;39 -->
<g id="edge66" class="edge">
<title>38&#45;&gt;39</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3658.34,-2030.79C3656.97,-2066.6 3656.65,-2116.03 3657.38,-2158.14"/>
<polygon fill="black" stroke="black" points="3653.89,-2158.47 3657.59,-2168.39 3660.89,-2158.33 3653.89,-2158.47"/>
</g>
<!-- 39&#45;&gt;38 -->
<g id="edge65" class="edge">
<title>39&#45;&gt;38</title>
<path fill="none" stroke="black" d="M3669.91,-2168.39C3670.79,-2128.75 3670.68,-2080.56 3669.57,-2043.07"/>
<polygon fill="black" stroke="black" points="3669.56,-2042.79 3665.36,-2036.92 3669.16,-2030.79 3673.36,-2036.65 3669.56,-2042.79"/>
</g>
</g>
</svg>
